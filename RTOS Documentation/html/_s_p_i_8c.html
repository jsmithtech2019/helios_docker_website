<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Helios RTOS: Drivers/SPI/SPI.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Helios RTOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_s_p_i_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SPI.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;ti/drivers/SPI.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div>
<p><a href="_s_p_i_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0e3448b30b88609fa120915e49560601"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#a0e3448b30b88609fa120915e49560601">SPI_close</a> (<a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a> handle)</td></tr>
<tr class="memdesc:a0e3448b30b88609fa120915e49560601"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to close a SPI peripheral specified by the SPI handle.  <a href="_s_p_i_8c.html#a0e3448b30b88609fa120915e49560601">More...</a><br /></td></tr>
<tr class="separator:a0e3448b30b88609fa120915e49560601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d3a23991be2741f382749d3844cc2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#ab9d3a23991be2741f382749d3844cc2f">SPI_control</a> (<a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a> handle, unsigned int cmd, void *arg)</td></tr>
<tr class="memdesc:ab9d3a23991be2741f382749d3844cc2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function performs implementation specific features on a given SPI_Handle.  <a href="_s_p_i_8c.html#ab9d3a23991be2741f382749d3844cc2f">More...</a><br /></td></tr>
<tr class="separator:ab9d3a23991be2741f382749d3844cc2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd9b09f58917f0e2d14c61b956eba214"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#afd9b09f58917f0e2d14c61b956eba214">SPI_init</a> (void)</td></tr>
<tr class="memdesc:afd9b09f58917f0e2d14c61b956eba214"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the SPI module.  <a href="_s_p_i_8c.html#afd9b09f58917f0e2d14c61b956eba214">More...</a><br /></td></tr>
<tr class="separator:afd9b09f58917f0e2d14c61b956eba214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62cfe494cb1df47cd602e8747e894fd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#a62cfe494cb1df47cd602e8747e894fd1">SPI_open</a> (unsigned int index, <a class="el" href="struct_s_p_i___params.html">SPI_Params</a> *params)</td></tr>
<tr class="memdesc:a62cfe494cb1df47cd602e8747e894fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens a given SPI peripheral.  <a href="_s_p_i_8c.html#a62cfe494cb1df47cd602e8747e894fd1">More...</a><br /></td></tr>
<tr class="separator:a62cfe494cb1df47cd602e8747e894fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3dd1748332fd6e31c79a6538a71642"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#a9c3dd1748332fd6e31c79a6538a71642">SPI_Params_init</a> (<a class="el" href="struct_s_p_i___params.html">SPI_Params</a> *params)</td></tr>
<tr class="memdesc:a9c3dd1748332fd6e31c79a6538a71642"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize the <a class="el" href="struct_s_p_i___params.html" title="SPI Parameters.">SPI_Params</a> struct to its defaults.  <a href="_s_p_i_8c.html#a9c3dd1748332fd6e31c79a6538a71642">More...</a><br /></td></tr>
<tr class="separator:a9c3dd1748332fd6e31c79a6538a71642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f1baa732ebbf0aa7cd5c3f7dfd215a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#aa6f1baa732ebbf0aa7cd5c3f7dfd215a">SPI_serviceISR</a> (<a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a> handle)</td></tr>
<tr class="memdesc:aa6f1baa732ebbf0aa7cd5c3f7dfd215a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to service the SPI module's interrupt service routine.  <a href="_s_p_i_8c.html#aa6f1baa732ebbf0aa7cd5c3f7dfd215a">More...</a><br /></td></tr>
<tr class="separator:aa6f1baa732ebbf0aa7cd5c3f7dfd215a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989e17f96b54fcc3dc2cac5f8ac6bdb2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#a989e17f96b54fcc3dc2cac5f8ac6bdb2">SPI_transfer</a> (<a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a> handle, <a class="el" href="struct_s_p_i___transaction.html">SPI_Transaction</a> *transaction)</td></tr>
<tr class="memdesc:a989e17f96b54fcc3dc2cac5f8ac6bdb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to perform SPI transactions.  <a href="_s_p_i_8c.html#a989e17f96b54fcc3dc2cac5f8ac6bdb2">More...</a><br /></td></tr>
<tr class="separator:a989e17f96b54fcc3dc2cac5f8ac6bdb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6819f7761fc3505c4f885653ff8121f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#a6819f7761fc3505c4f885653ff8121f0">SPI_transferCancel</a> (<a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a> handle)</td></tr>
<tr class="memdesc:a6819f7761fc3505c4f885653ff8121f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to cancel SPI transactions.  <a href="_s_p_i_8c.html#a6819f7761fc3505c4f885653ff8121f0">More...</a><br /></td></tr>
<tr class="separator:a6819f7761fc3505c4f885653ff8121f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5193a07e2fa52eefff60481f677b299d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_s_p_i___config.html">SPI_Config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#a5193a07e2fa52eefff60481f677b299d">SPI_config</a> []</td></tr>
<tr class="separator:a5193a07e2fa52eefff60481f677b299d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f2c6dbfbf86cabc01ddd6db4673170"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_s_p_i___params.html">SPI_Params</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_p_i_8c.html#a68f2c6dbfbf86cabc01ddd6db4673170">SPI_defaultParams</a></td></tr>
<tr class="separator:a68f2c6dbfbf86cabc01ddd6db4673170"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0e3448b30b88609fa120915e49560601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3448b30b88609fa120915e49560601">&#9670;&nbsp;</a></span>SPI_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to close a SPI peripheral specified by the SPI handle. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_s_p_i_8h.html#a62cfe494cb1df47cd602e8747e894fd1" title="This function opens a given SPI peripheral.">SPI_open()</a> has to be called first.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A SPI handle returned from <a class="el" href="_s_p_i_8h.html#a62cfe494cb1df47cd602e8747e894fd1" title="This function opens a given SPI peripheral.">SPI_open()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_s_p_i_8h.html#a62cfe494cb1df47cd602e8747e894fd1" title="This function opens a given SPI peripheral.">SPI_open()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_s_p_i_8c_source.html#l00062">62</a> of file <a class="el" href="_s_p_i_8c_source.html">SPI.c</a>.</p>

</div>
</div>
<a id="ab9d3a23991be2741f382749d3844cc2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9d3a23991be2741f382749d3844cc2f">&#9670;&nbsp;</a></span>SPI_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPI_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function performs implementation specific features on a given SPI_Handle. </p>
<p>Commands for SPI_control can originate from <a class="el" href="_s_p_i_8h.html" title="SPI driver interface.">SPI.h</a> or from implementation specific SPI*.h (<em>SPICC26XX.h</em>, <em>SPITiva.h</em>, etc.. ) files. While commands from <a class="el" href="_s_p_i_8h.html" title="SPI driver interface.">SPI.h</a> are API portable across driver implementations, not all implementations may support all these commands. Conversely, commands from driver implementation specific SPI*.h files add unique driver capabilities but are not API portable across all SPI driver implementations.</p>
<p>Commands supported by <a class="el" href="_s_p_i_8h.html" title="SPI driver interface.">SPI.h</a> follow a SPI_CMD_&lt;cmd&gt; naming convention.<br  />
 Commands supported by SPI*.h follow a SPI*_CMD_&lt;cmd&gt; naming convention.<br  />
 Each control command defines <b>arg</b> differently. The types of <b>arg</b> are documented with each command.</p>
<p>See <a class="el" href="group___s_p_i___c_m_d.html">SPI_control command codes</a> for command codes.</p>
<p>See <a class="el" href="group___s_p_i___s_t_a_t_u_s.html">SPI_control return status codes</a> for status codes.</p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_s_p_i_8h.html#a62cfe494cb1df47cd602e8747e894fd1" title="This function opens a given SPI peripheral.">SPI_open()</a> has to be called first.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A SPI handle returned from <a class="el" href="_s_p_i_8h.html#a62cfe494cb1df47cd602e8747e894fd1" title="This function opens a given SPI peripheral.">SPI_open()</a></td></tr>
    <tr><td class="paramname">cmd</td><td><a class="el" href="_s_p_i_8h.html" title="SPI driver interface.">SPI.h</a> or SPI*.h commands.</td></tr>
    <tr><td class="paramname">arg</td><td>An optional R/W (read/write) command argument accompanied with cmd</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Implementation specific return codes. Negative values indicate unsuccessful operations.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_s_p_i_8h.html#a62cfe494cb1df47cd602e8747e894fd1" title="This function opens a given SPI peripheral.">SPI_open()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_s_p_i_8c_source.html#l00070">70</a> of file <a class="el" href="_s_p_i_8c_source.html">SPI.c</a>.</p>

</div>
</div>
<a id="afd9b09f58917f0e2d14c61b956eba214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd9b09f58917f0e2d14c61b956eba214">&#9670;&nbsp;</a></span>SPI_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the SPI module. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The SPI_config structure must exist and be persistent before this function can be called. This function must also be called before any other SPI driver APIs. This function call does not modify any peripheral registers. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_s_p_i_8c_source.html#l00078">78</a> of file <a class="el" href="_s_p_i_8c_source.html">SPI.c</a>.</p>

</div>
</div>
<a id="a62cfe494cb1df47cd602e8747e894fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62cfe494cb1df47cd602e8747e894fd1">&#9670;&nbsp;</a></span>SPI_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a> SPI_open </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___params.html">SPI_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function opens a given SPI peripheral. </p>
<dl class="section pre"><dt>Precondition</dt><dd>SPI controller has been initialized using <a class="el" href="_s_p_i_8h.html#afd9b09f58917f0e2d14c61b956eba214" title="This function initializes the SPI module.">SPI_init()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Logical peripheral number for the SPI indexed into the SPI_config table</td></tr>
    <tr><td class="paramname">params</td><td>Pointer to an parameter block, if NULL it will use default values. All the fields in this structure are RO (read-only).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A SPI_Handle on success or a NULL on an error or if it has been opened already.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_s_p_i_8h.html#afd9b09f58917f0e2d14c61b956eba214" title="This function initializes the SPI module.">SPI_init()</a> </dd>
<dd>
<a class="el" href="_s_p_i_8h.html#a0e3448b30b88609fa120915e49560601" title="Function to close a SPI peripheral specified by the SPI handle.">SPI_close()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_s_p_i_8c_source.html#l00091">91</a> of file <a class="el" href="_s_p_i_8c_source.html">SPI.c</a>.</p>

</div>
</div>
<a id="a9c3dd1748332fd6e31c79a6538a71642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c3dd1748332fd6e31c79a6538a71642">&#9670;&nbsp;</a></span>SPI_Params_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_Params_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___params.html">SPI_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize the <a class="el" href="struct_s_p_i___params.html" title="SPI Parameters.">SPI_Params</a> struct to its defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>An pointer to <a class="el" href="struct_s_p_i___params.html" title="SPI Parameters.">SPI_Params</a> structure for initialization</td></tr>
  </table>
  </dd>
</dl>
<p>Defaults values are: transferMode = SPI_MODE_BLOCKING transferTimeout = SPI_WAIT_FOREVER transferCallbackFxn = NULL mode = SPI_MASTER bitRate = 1000000 (Hz) dataSize = 8 (bits) frameFormat = SPI_POL0_PHA0 </p>

<p class="definition">Definition at line <a class="el" href="_s_p_i_8c_source.html#l00113">113</a> of file <a class="el" href="_s_p_i_8c_source.html">SPI.c</a>.</p>

</div>
</div>
<a id="aa6f1baa732ebbf0aa7cd5c3f7dfd215a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6f1baa732ebbf0aa7cd5c3f7dfd215a">&#9670;&nbsp;</a></span>SPI_serviceISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_serviceISR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to service the SPI module's interrupt service routine. </p>
<p>This function is not supported on all driver implementations. Refer to implementation specific documentation for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A SPI_Handle </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_s_p_i_8c_source.html#l00121">121</a> of file <a class="el" href="_s_p_i_8c_source.html">SPI.c</a>.</p>

</div>
</div>
<a id="a989e17f96b54fcc3dc2cac5f8ac6bdb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989e17f96b54fcc3dc2cac5f8ac6bdb2">&#9670;&nbsp;</a></span>SPI_transfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SPI_transfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___transaction.html">SPI_Transaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to perform SPI transactions. </p>
<p>If the SPI is in <a class="el" href="_s_p_i_8h.html#a60a7e3d74577b38aa79ea6983362f942a84379dc90398ca075038c8d5ee465f6a">SPI_MASTER</a> mode, it will immediately start the transaction. If the SPI is in <a class="el" href="_s_p_i_8h.html#a60a7e3d74577b38aa79ea6983362f942abc98c1546fe12d3fceb1f86cf670faa9">SPI_SLAVE</a> mode, it prepares itself for a transaction with a SPI master.</p>
<p>In <a class="el" href="_s_p_i_8h.html#ab9ea76c6529d6076eee5e1c4a5a92c6fa0dfb2358e008316426895e7237c398e8">SPI_MODE_BLOCKING</a>, SPI_transfer will block task execution until the transaction has completed.</p>
<p>In <a class="el" href="_s_p_i_8h.html#ab9ea76c6529d6076eee5e1c4a5a92c6fa5631e69925c47a62a261c78ebbda39fb">SPI_MODE_CALLBACK</a>, <a class="el" href="_s_p_i_8h.html#a989e17f96b54fcc3dc2cac5f8ac6bdb2" title="Function to perform SPI transactions.">SPI_transfer()</a> does not block task execution and calls a <a class="el" href="_s_p_i_8h.html#a207e2d5a7e7ea5606b6995b6485ca015" title="The definition of a callback function used by the SPI driver when used in SPI_MODE_CALLBACK.">SPI_CallbackFxn</a>. This makes the SPI_tranfer() safe to be used within a Task, Swi, or Hwi context. The <a class="el" href="struct_s_p_i___transaction.html" title="A SPI_Transaction data structure is used with SPI_transfer(). It indicates how many SPI_FrameFormat f...">SPI_Transaction</a> structure must stay persistent until the SPI_transfer function has completed!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A SPI_Handle</td></tr>
    <tr><td class="paramname">transaction</td><td>A pointer to a <a class="el" href="struct_s_p_i___transaction.html" title="A SPI_Transaction data structure is used with SPI_transfer(). It indicates how many SPI_FrameFormat f...">SPI_Transaction</a>. All of the fields within transaction except <a class="el" href="struct_s_p_i___transaction.html#ad049d6a900c4bdb59a5ee8ce3d5bced2">SPI_Transaction.count</a> and <a class="el" href="struct_s_p_i___transaction.html#aa244504b2384411f7de17340be62128a">SPI_Transaction.status</a> are WO (write-only) unless otherwise noted in the driver implementations. If a transaction timeout has occured, <a class="el" href="struct_s_p_i___transaction.html#ad049d6a900c4bdb59a5ee8ce3d5bced2">SPI_Transaction.count</a> will contain the number of frames that were transferred.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if started successfully; else false</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_s_p_i_8h.html#a62cfe494cb1df47cd602e8747e894fd1" title="This function opens a given SPI peripheral.">SPI_open</a> </dd>
<dd>
<a class="el" href="_s_p_i_8h.html#a6819f7761fc3505c4f885653ff8121f0" title="Function to cancel SPI transactions.">SPI_transferCancel</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_s_p_i_8c_source.html#l00129">129</a> of file <a class="el" href="_s_p_i_8c_source.html">SPI.c</a>.</p>

</div>
</div>
<a id="a6819f7761fc3505c4f885653ff8121f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6819f7761fc3505c4f885653ff8121f0">&#9670;&nbsp;</a></span>SPI_transferCancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_transferCancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_p_i_8h.html#a728806534c3c3e8675cfbfb7d8e36f13">SPI_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to cancel SPI transactions. </p>
<p>In <a class="el" href="_s_p_i_8h.html#ab9ea76c6529d6076eee5e1c4a5a92c6fa0dfb2358e008316426895e7237c398e8">SPI_MODE_BLOCKING</a>, SPI_transferCancel has no effect.</p>
<p>In <a class="el" href="_s_p_i_8h.html#ab9ea76c6529d6076eee5e1c4a5a92c6fa5631e69925c47a62a261c78ebbda39fb">SPI_MODE_CALLBACK</a>, <a class="el" href="_s_p_i_8h.html#a6819f7761fc3505c4f885653ff8121f0" title="Function to cancel SPI transactions.">SPI_transferCancel()</a> will stop an SPI transfer if if one is in progress. If a transaction was in progress, its callback function will be called in context from which this API is called from. The <a class="el" href="_s_p_i_8h.html#a207e2d5a7e7ea5606b6995b6485ca015" title="The definition of a callback function used by the SPI driver when used in SPI_MODE_CALLBACK.">SPI_CallbackFxn</a> function can determine if the transaction was successful or not by reading the <a class="el" href="_s_p_i_8h.html#a913c57c335166de9caa54b7eb9ad95fb" title="Status codes that are set by the SPI driver.">SPI_Status</a> status value in the <a class="el" href="struct_s_p_i___transaction.html" title="A SPI_Transaction data structure is used with SPI_transfer(). It indicates how many SPI_FrameFormat f...">SPI_Transaction</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A SPI_Handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_s_p_i_8h.html#a62cfe494cb1df47cd602e8747e894fd1" title="This function opens a given SPI peripheral.">SPI_open</a> </dd>
<dd>
<a class="el" href="_s_p_i_8h.html#a989e17f96b54fcc3dc2cac5f8ac6bdb2" title="Function to perform SPI transactions.">SPI_transfer</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_s_p_i_8c_source.html#l00137">137</a> of file <a class="el" href="_s_p_i_8c_source.html">SPI.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5193a07e2fa52eefff60481f677b299d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5193a07e2fa52eefff60481f677b299d">&#9670;&nbsp;</a></span>SPI_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_s_p_i___config.html">SPI_Config</a> SPI_config[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a68f2c6dbfbf86cabc01ddd6db4673170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f2c6dbfbf86cabc01ddd6db4673170">&#9670;&nbsp;</a></span>SPI_defaultParams</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_s_p_i___params.html">SPI_Params</a> SPI_defaultParams</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <a class="code" href="_s_p_i_8h.html#ab9ea76c6529d6076eee5e1c4a5a92c6fa0dfb2358e008316426895e7237c398e8">SPI_MODE_BLOCKING</a>,  </div>
<div class="line">    <a class="code" href="_s_p_i_8h.html#a7cab73b936e6e08392882196df41277e">SPI_WAIT_FOREVER</a>,   </div>
<div class="line">    NULL,               </div>
<div class="line">    <a class="code" href="_s_p_i_8h.html#a60a7e3d74577b38aa79ea6983362f942a84379dc90398ca075038c8d5ee465f6a">SPI_MASTER</a>,         </div>
<div class="line">    1000000,            </div>
<div class="line">    8,                  </div>
<div class="line">    <a class="code" href="_s_p_i_8h.html#a4e1f33555dfa8147205af5b266f3a489a0396d8c01166ff94e94e0c200261eba3">SPI_POL0_PHA0</a>,      </div>
<div class="line">    (uintptr_t) NULL    </div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_s_p_i_8c_source.html#l00048">48</a> of file <a class="el" href="_s_p_i_8c_source.html">SPI.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="a_s_p_i_8h_html_a60a7e3d74577b38aa79ea6983362f942a84379dc90398ca075038c8d5ee465f6a"><div class="ttname"><a href="_s_p_i_8h.html#a60a7e3d74577b38aa79ea6983362f942a84379dc90398ca075038c8d5ee465f6a">SPI_MASTER</a></div><div class="ttdeci">@ SPI_MASTER</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00289">SPI.h:289</a></div></div>
<div class="ttc" id="a_s_p_i_8h_html_a4e1f33555dfa8147205af5b266f3a489a0396d8c01166ff94e94e0c200261eba3"><div class="ttname"><a href="_s_p_i_8h.html#a4e1f33555dfa8147205af5b266f3a489a0396d8c01166ff94e94e0c200261eba3">SPI_POL0_PHA0</a></div><div class="ttdeci">@ SPI_POL0_PHA0</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00298">SPI.h:298</a></div></div>
<div class="ttc" id="a_s_p_i_8h_html_ab9ea76c6529d6076eee5e1c4a5a92c6fa0dfb2358e008316426895e7237c398e8"><div class="ttname"><a href="_s_p_i_8h.html#ab9ea76c6529d6076eee5e1c4a5a92c6fa0dfb2358e008316426895e7237c398e8">SPI_MODE_BLOCKING</a></div><div class="ttdeci">@ SPI_MODE_BLOCKING</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00321">SPI.h:321</a></div></div>
<div class="ttc" id="a_s_p_i_8h_html_a7cab73b936e6e08392882196df41277e"><div class="ttname"><a href="_s_p_i_8h.html#a7cab73b936e6e08392882196df41277e">SPI_WAIT_FOREVER</a></div><div class="ttdeci">#define SPI_WAIT_FOREVER</div><div class="ttdoc">Wait forever define.</div><div class="ttdef"><b>Definition:</b> <a href="_s_p_i_8h_source.html#l00237">SPI.h:236</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_60925fc218da8ca7908795bf5f624060.html">Drivers</a></li><li class="navelem"><a class="el" href="dir_bce9b6e463768fe5f779dc96bdc04961.html">SPI</a></li><li class="navelem"><a class="el" href="_s_p_i_8c.html">SPI.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
